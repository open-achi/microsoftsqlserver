{% extends 'widgets/widget_template.html' %}
{% load custom_template %}
  
{% block custom_title_prop %}
    {% if title_logo %}style="background-size: auto 60%; background-position: 50%; background-repeat: no-repeat; background-image: url('/app_resource/{{ title_logo }}');"{% endif %}
{% endblock %}
{% block title1 %}{{ title1 }}{% endblock %}
{% block title2 %}{{ title2 }}{% endblock %}
{% block custom_tools %}
{% endblock %}
  
{% block widget_content %} <!-- Main Start Block -->
 
<!--
  Copyright (c) 2018 Splunk Inc.
 
  SPLUNK CONFIDENTIAL - Use or disclosure of this material in whole or in part
  without a valid written license from Splunk Inc. is PROHIBITED.
--> 

<div style="overflow: auto; width: 100%; height: 100%; padding-left:10px; padding-right:10px"> <!-- Main Div -->

    {% for result in results %} <!-- loop for each result -->
        {% for dataset in result.data %} <!-- loop for each dataset -->
            <div> <table style="min-width: 100%; margin: 0">
            <tr> <th style="border: none; font-weight: normal; max-width:600px;"> Dataset: {{ dataset.index }} </th> </tr>
            <tr><td><br></td></tr>
            {% if dataset.description %}
                <tr> <td> Description </td> </tr>
                <tr> <td> <table style="min-width: 100%; margin: 0">
                    <tr>
                    {% for col in result.description_headers %}
                        <th style="border: none; font-weight: normal; max-width:600px;"> {{ col }} </th>
                    {% endfor %}
                    </tr>
                    {% for row in dataset.description %}
                        <tr>
                        {% for col in row %}
                            <td> {{ col }} </td>
                        {% endfor %}
                        </tr>
                    {% endfor %}
                </table> <td> <tr>
                <tr><td><br></td></tr>
            {% endif %}
            <tr> <td> Results: </td> </tr>
            <tr> <td> <table style="min-width: 100%; margin: 0">
                <tr>
                {% for col in dataset.headers %}
                    <th style="border: none; font-weight: normal; max-width:600px;"> {{col}} </th>
                {% endfor %}
                </tr>
                {% for row in dataset.dataset %}
                    <tr>
                    {% for col in row %}
                        <td> {{col}} </td>
                    {% endfor %}
                    </tr>
                {% endfor %}
            </table> <td> <tr>
            </table> </div>
            <br>
        {% endfor %} <!-- loop for each dataset -->
    {% endfor %} <!-- loop for each result end -->

</div> <!-- Main Div -->
{% endblock %} <!-- Main Start Block -->
